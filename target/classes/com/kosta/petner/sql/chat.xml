<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.chat">
 	<select id="list" resultType="com.kosta.petner.bean.Chat">
 		select c.*, photo from chat c, users
		where id=sender
 	</select>
 	<insert id="insert">
 		insert into chat(sender, message, chat_no, regdate)
 		value(#{sender}, #{message},seq_chat_no.nextval,sysdate)
 	</insert>
 	<delete id="delete">
 		delete from chat where chat_no=#{chat_no}
 	</delete>
 	<select id="last" resultType="int">
 		select max(chat_no) from chat
 	</select>
</mapper>